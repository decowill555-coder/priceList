<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>移动端商城演示</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- 顶部导航 -->
    <nav class="navbar">
        <div class="menu-btn" onclick="toggleSidebar()">
            <!-- SVG 菜单图标 -->
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </div>
        <div class="search-container">
            <input type="text" id="searchInput" class="search-input" placeholder="搜索商品..." oninput="handleSearch()">
        </div>
    </nav>

    <!-- 侧边栏覆盖层 -->
    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <!-- 左侧分类侧边栏 -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">商品分类</div>
        <ul class="category-list" id="categoryList">
            <!-- JS 动态生成 -->
        </ul>
    </aside>

    <!-- 右侧主要内容 -->
    <main class="main-content">
        <div class="product-grid" id="productGrid">
            <!-- JS 动态生成 -->
        </div>
    </main>

    <script>

        const imageFiles = [
            "800g金沙河家味鸡蛋挂面-8-副食.jpg",
            "乌江榨菜-2-副食.jpg",
            "冰糖一斤-5-副食.jpg",
            "加加酱油味极鲜800ml-10-副食.jpg",
            "北京风味鸡蛋龙须面500g-4-副食.jpg",
            "十三香-5.5-副食.jpg",
            "厨邦味极鲜生抽酱油1.63L-20-副食.jpg",
            "厨邦蒸鱼豉油420ml-11-副食.jpg",
            "厨邦酱油1.63L-20-副食.jpg",
            "厨邦金品特级鲜味生抽酱油410ml-8-副食.jpg",
            "味极鲜酱油750ml-8-副食.jpg",
            "江西米粉-17-副食.jpg",
            "烧烤料-1-副食.jpg",
            "爱香榨菜-0.5-副食.jpg",
            "番茄酱320g-8-副食.jpg",
            "白砂糖一斤-4-副食.jpg",
            "皮蛋一枚-1.4-副食.jpg",
            "紫菜大-5-副食.jpg",
            "紫菜小-2-副食.jpg",
            "赣州宝兴米粉一斤-3.5-副食.jpg",
            "赣州宝兴米粉一袋-26-副食.jpg",
            "金沙河高筋鸡蛋早餐面条干挂面500g-4-副食.jpg",
            "长康料酒500ml-7-副食.jpg",
            "长康白醋-5-副食.jpg",
            "陈醋-5-副食.jpg",
            "高筋鸡蛋挂面-10-副食.jpg",
            "鸡蛋一提-17-副食.jpg",
            "鸡蛋一枚-0.6-副食.jpg",
            "金龙鱼1·1·1调和油4.5L-65-油.jpg",
            "金龙鱼1·1·1调和油5L-70-油.jpg",
            "金龙鱼葵花籽5L-65-油.jpg",
            "长康食用油一级压榨菜籽油5升-80-油.jpg",
            "鲁花低芥酸菜籽油4L-95-油.jpg",
            "鲁花压榨玉米油5L-90-油.jpg",
            "8元饼干区-8-特殊零食.jpg",
            "12元饼干区-12-特殊零食.jpg",
            "12元饼干区2-12-特殊零食.jpg",
            "一元火腿肠区-1-特殊零食.jpg",
            "一元零食-1-特殊零食.jpg",
            "一元零食1-1-特殊零食.jpg",
            "一元零食区-1-特殊零食.jpg",
            "五毛零食区-0.5-特殊零食.jpg",
            "卫龙魔芋爽-1-特殊零食.jpg",
            "3圈电池两个-5-百货.jpg",
            "5号7号南孚电池-2-百货.jpg",
            "一次性纸杯-3.5-百货.jpg",
            "万能胶-2-百货.jpg",
            "中性笔-1-百货.jpg",
            "儿童牙刷-5-百货.jpg",
            "刷子-3-百货.jpg",
            "削笔刀-0.5-百货.jpg",
            "双面胶-1-百货.jpg",
            "口罩-1-百货.jpg",
            "大红包-1-百货.jpg",
            "宝利达纸巾一包-3-百货.jpg",
            "宝利达纸巾一提-18-百货.jpg",
            "小刷子-2-百货.jpg",
            "小胶水恒固-1-百货.jpg",
            "庆柔纸巾一提-19-百货.jpg",
            "晨之恋洁齿护龈牙刷-6-百货.jpg",
            "晨之恋火焰刷丝-8-百货.jpg",
            "晨之恋牙刷-6-百货.jpg",
            "晨之恋竹炭牙刷-6-百货.jpg",
            "欣奈儿可湿水纸巾一提-21-百货.jpg",
            "正点扑克牌-2-百货.jpg",
            "正点扑克牌整盒-16-百货.jpg",
            "电热蚊香液-7.5-百货.jpg",
            "纤芝秀提挂式抽纸-10-百货.jpg",
            "纤芝秀纸巾一提-23-百货.jpg",
            "纯心纸巾一提-22-百货.jpg",
            "肥皂-7.5-百货.jpg",
            "蚊香垫子-1-百货.jpg",
            "超威强效洁厕灵-7-百货.jpg",
            "野外香蚊香-4-百货.jpg",
            "韩后牙刷-8-百货.jpg",
            "七宝山-4-酒水.jpg",
            "中国劲酒35度125ml小瓶-16-酒水.jpg",
            "中国劲酒35度520ml-60-酒水.jpg",
            "中国劲酒500ml-55-酒水.jpg",
            "劲牌八珍-30-酒水.jpg",
            "北京二锅头56度4.5L-56-酒水.jpg",
            "千禧缘52度500ml-140-酒水.jpg",
            "原浆酒52度500ml-55-酒水.jpg",
            "四特东方韵-172-酒水.jpg",
            "四特酒3星-68-酒水.jpg",
            "四特酒4星-88-酒水.jpg",
            "四特酒5星-132-酒水.jpg",
            "四特酒旭红52度460ml-88-酒水.jpg",
            "四特酒清香-108-酒水.jpg",
            "四特酒特香3号-138-酒水.jpg",
            "小吉凤酒-5-酒水.jpg",
            "椰岛海王酒32度小瓶-5-酒水.jpg",
            "椰岛海王酒500ml-28-酒水.jpg",
            "正通小烧-28-酒水.jpg",
            "江小白40度100ml清香型-23-酒水.jpg",
            "江小白40度500ml清香型-65-酒水.jpg",
            "江小白白酒40度300ml-42-酒水.jpg",
            "泸州老窖中国荣耀52度500ml-128-酒水.jpg",
            "牛栏山42度125ml-8-酒水.jpg",
            "牛栏山43度新一代陈酿白瓶500ml-28-酒水.jpg",
            "牛栏山二锅头500ml-16-酒水.jpg",
            "牛栏山二锅头陈酿42度500ml-17-酒水.jpg",
            "牛栏山百年53度500ml-290-酒水.jpg",
            "牛栏山红色情怀42度500ml-72-酒水.jpg",
            "牛栏山豪情46度500ml-72-酒水.jpg",
            "牛栏山豪情52度500ml-120-酒水.jpg",
            "牛栏山金标陈酿42.3度500ml-38-酒水.jpg",
            "百年杜康-16-酒水.jpg",
            "皇凤52度450ml-98-酒水.jpg",
            "皇凤窖藏42度500ml-128-酒水.jpg",
            "秦宫-65-酒水.jpg",
            "章贡王洞藏原浆50度500ml-128-酒水.jpg",
            "章贡王酒光瓶50度-13-酒水.jpg",
            "章贡酒小杯-4-酒水.jpg",
            "精品章贡王35度500ml-42-酒水.jpg",
            "谷烧酒38度-8-酒水.jpg",
            "赖茅酒53度500ml-77-酒水.jpg",
            "闷倒驴-75-酒水.jpg",
            "雪津啤酒一件-30-酒水.jpg",
            "雪津啤酒一瓶-3-酒水.jpg",
            "雪津啤酒罐装330ml-3-酒水.jpg",
            "雪津啤酒罐装330ml一件-65-酒水.jpg",
            "雪津啤酒罐装500ml-5-酒水.jpg",
            "雪津啤酒罐装500ml一件-55-酒水.jpg",
            "青岛啤酒清爽一件-65-酒水.jpg",
            "麦饭石酒45度-15-酒水.jpg",
            "麦饭石酒口粮酒50度500ml-15-酒水.jpg",
            "龙江大高粱-16-酒水.jpg",
            "DODO棒棒糖-0.5-零食.jpg",
            "一元冰棍1-1-零食.jpg",
            "一元水枪零食-1-零食.jpg",
            "三色雪糕-4-零食.jpg",
            "东北奶糕-3-零食.jpg",
            "仙贝520g-23-零食.jpg",
            "力诚泡面伙伴240g-6-零食.jpg",
            "劲仔深海小鱼-1-零食.jpg",
            "南酸枣糕-30-零食.jpg",
            "可棒了饼干-1-零食.jpg",
            "台式小香肠6个-2-零食.jpg",
            "啃老鸭鸭爪鸭翅-2.5-零食.jpg",
            "士力架-2.5-零食.jpg",
            "大大泡泡糖4片-1-零食.jpg",
            "大布丁雪糕-2-零食.jpg",
            "好点-1-零食.jpg",
            "巧乐兹-4-零食.jpg",
            "布丁雪糕-1-零食.jpg",
            "彩虹糖-5-零食.jpg",
            "手剥笋-1-零食.jpg",
            "无穷卤鸭翅根-3.5-零食.jpg",
            "无穷烤鸡翅根-3-零食.jpg",
            "无穷鸡蛋-2-零食.jpg",
            "欧蒂莎-4-零食.jpg",
            "正味麦片-16-零食.jpg",
            "毅哥蜜汁烤脖-2-零食.jpg",
            "熊博士口嚼软糖-1-零食.jpg",
            "熊博士软糖-1-零食.jpg",
            "燕窝银耳羹-65-零食.jpg",
            "玉米火腿肠一包-6-零食.jpg",
            "瓜子脆皮冰棍-1-零食.jpg",
            "甜甜圈雪糕-3-零食.jpg",
            "盼盼家庭号-4-零食.jpg",
            "盼盼鸡味块-5.5-零食.jpg",
            "粉面蛋肉肠诱惑酸麻味一桶-5-零食.jpg",
            "粉面蛋肉肠金汤肥牛味一桶-5-零食.jpg",
            "统一方便面两块面饼-5-零食.jpg",
            "统一方便面桶装-4-零食.jpg",
            "统一方便面袋装-2.5-零食.jpg",
            "缺牙齿-1-零食.jpg",
            "美乐笛-1-零食.jpg",
            "肉蛋蛋-2-零食.jpg",
            "脱骨凤爪-2-零食.jpg",
            "艾精隆花生-8-零食.jpg",
            "艾精隆葵花子-8-零食.jpg",
            "蒙牛奶片-2-零食.jpg",
            "蜘蛛侠-2-零食.jpg",
            "重庆酸辣粉一桶-5-零食.jpg",
            "阿尔卑斯棒棒糖-1-零食.jpg",
            "雪饼-23-零食.jpg",
            "香雪杯-5-零食.jpg",
            "鱼尾零食-2-零食.jpg",
            "AD钙奶-5-饮料.jpg",
            "AD钙奶220ml4瓶-9-饮料.jpg",
            "AD钙奶220ml24瓶-50-饮料.jpg",
            "AD钙奶一件-55-饮料.jpg",
            "AD钙奶水蜜桃味-5-饮料.jpg",
            "七喜柠檬味550ml-3-饮料.jpg",
            "东鹏特饮250ml-3-饮料.jpg",
            "东鹏特饮500ml-5-饮料.jpg",
            "伊利纯牛奶16盒-55-饮料.jpg",
            "伊利纯牛奶24盒-65-饮料.jpg",
            "伊利金典-55-饮料.jpg",
            "佳得乐西柚味600ml-5-饮料.jpg",
            "六个核桃16罐-65-饮料.jpg",
            "农夫山泉-2-饮料.jpg",
            "农夫山泉碱性天然水380ml-2-饮料.jpg",
            "农夫山泉碱性天然水550ml-2-饮料.jpg",
            "加多宝12罐-38-饮料.jpg",
            "加多宝16罐-50-饮料.jpg",
            "加多宝20罐-55-饮料.jpg",
            "加多宝瓶装-4-饮料.jpg",
            "可乐罐装200ml-2.5-饮料.jpg",
            "可口可乐大瓶2L-7-饮料.jpg",
            "可口可乐系列300ml-2-饮料.jpg",
            "名仁苏打水苏打375ml-3-饮料.jpg",
            "味动力餐后轻体一件-55-饮料.jpg",
            "味动力餐后轻体一件白桃-55-饮料.jpg",
            "味动力餐后轻体草莓一件-55-饮料.jpg",
            "哇哈哈矿泉水-1.5-饮料.jpg",
            "怡宝1.555L-3-饮料.jpg",
            "怡宝4.5L-11-饮料.jpg",
            "怡宝350ml-2-饮料.jpg",
            "怡宝555ml-2-饮料.jpg",
            "春拂焙茶-4-饮料.jpg",
            "果粒橙1.8L-12-饮料.jpg",
            "果粒橙1.25L-8-饮料.jpg",
            "果粒橙500ml-4-饮料.jpg",
            "果粒橙小瓶.jpg",
            "格瓦斯530ml-4-饮料.jpg",
            "椰树牌椰子汁1L-15-饮料.jpg",
            "海之言-4-饮料.jpg",
            "海之言大瓶-6-饮料.jpg",
            "润田纯净水550ml-1-饮料.jpg",
            "润田纯净水一件-16-饮料.jpg",
            "牛吃菜一件-55-饮料.jpg",
            "牛吃菜一瓶-6-饮料.jpg",
            "特仑苏一件-55-饮料.jpg",
            "特仑苏一盒-5-饮料.jpg",
            "王老吉大瓶装-11-饮料.jpg",
            "王老吉瓶装-4-饮料.jpg",
            "王老吉盒装-2-饮料.jpg",
            "王老吉罐装-3-饮料.jpg",
            "百事可乐2L-7-饮料.jpg",
            "百事可乐2L一件6瓶-42-饮料.jpg",
            "百事可乐330ml细长罐装-4-饮料.jpg",
            "百事可乐500ml-3-饮料.jpg",
            "百事可乐一件24瓶-68-饮料.jpg",
            "百事可乐树莓味2L-7-饮料.jpg",
            "百事无糖生可乐500ml-4-饮料.jpg",
            "百事系列小瓶-2-饮料.jpg",
            "百事美年达系列-3-饮料.jpg",
            "百威啤酒-8-酒水.jpg",
            "百威啤酒330ml24瓶-110-酒水.jpg",
            "百威啤酒500ml12瓶-80-酒水.jpg",
            "百威啤酒小罐-5-酒水.jpg",
            "糖百事可乐2L-8-饮料.jpg",
            "红牛-6-饮料.jpg",
            "纯水乐纯净水550ml-1-饮料.jpg",
            "统一双萃1L-4-饮料.jpg",
            "统一双萃500ml-3-饮料.jpg",
            "统一系列瓶装1L-4-饮料.jpg",
            "统一系列瓶装500ml-3-饮料.jpg",
            "统一系列盒装-2-饮料.jpg",
            "统一系列罐装-2.5-饮料.jpg",
            "统一阿萨姆奶茶1.5L-11-饮料.jpg",
            "统一阿萨姆奶茶500ml-4-饮料.jpg",
            "绿豆冰沙-2-饮料.jpg",
            "美年达橙味2L-7-饮料.jpg",
            "美年达苹果味2L-7-饮料.jpg",
            "脉动-5-饮料.jpg",
            "芬达大瓶2L-7-饮料.jpg",
            "芬达系列500ml-3-饮料.jpg",
            "茶π500ml-5-饮料.jpg",
            "菊花茶-1-饮料.jpg",
            "菊花茶一件-15-饮料.jpg",
            "营养快线-5-饮料.jpg",
            "营养快线白包装-5-饮料.jpg",
            "营养快线原味-5-饮料.jpg",
            "补水啦1L-6-饮料.jpg",
            "补水啦555ml-4-饮料.jpg",
            "贝奇菜仔奶330ml-6-饮料.jpg",
            "贝奇菜仔奶450ml-6-饮料.jpg",
            "贝奇菜仔奶一件小瓶-55-饮料.jpg",
            "贝奇野菜330ml-4-饮料.jpg",
            "贝奇野菜450ml-6-饮料.jpg",
            "贝奇野菜一件小瓶-55-饮料.jpg",
            "银鹭花生牛奶24盒-42-饮料.jpg",
            "银鹭花生牛奶一瓶-4-饮料.jpg",
            "长富儿童高钙牛奶一件-60-饮料.jpg",
            "雪碧大瓶2L-7-饮料.jpg",
            "雪碧罐装200ml-2.5-饮料.jpg",
            "高山青草奶4小瓶-10-饮料.jpg",
            "高山青草奶550ml-6-饮料.jpg",
            "高山青草奶一件-55-饮料.jpg"
        ];



        let products = [];

        function parseFileName() {
            products = imageFiles.map(file => {
                // 1. 去掉 .jpg 后缀
                let baseName = file.replace('.jpg', '').replace('.jpeg', '').replace('.png', '');

                // 2. 按 "-" 分割
                // 注意：商品名里可能有"-"，所以我们只分割最后两部分（价格和分类）
                const parts = baseName.split('-');

                // 安全检查：如果分割后少于3部分，跳过或设置默认值
                if (parts.length < 3) {
                    console.warn(`文件名格式不正确，已跳过: ${file}`);
                    return null;
                }

                // 最后一部分是分类
                const category = parts.pop();
                // 倒数第二部分是价格
                const priceStr = parts.pop();
                // 剩下的所有部分合起来是商品名
                const name = parts.join('-');

                const price = parseFloat(priceStr); // 使用 parseFloat 支持小数价格
                if (isNaN(price)) {
                    console.warn(`价格解析失败，已跳过: ${file}`);
                    return null;
                }

                return {
                    id: Math.random().toString(36).substr(2, 9), // 生成随机ID
                    name: name.trim(),
                    price: price,
                    category: category.trim(),
                    image: `image/${category}/${file}`
                };
            }).filter(Boolean); // 过滤掉 null 值
        }

        // 分类定义
        const categories = [
            { id: "all", name: "全部商品" },
            { id: "饮料", name: "饮料" },
            { id: "副食", name: "副食" },
            { id: "油", name: "油" },
            { id: "特殊零食", name: "特殊零食" },
            { id: "百货", name: "百货" },
            { id: "零食", name: "零食" },
            { id: "酒水", name: "酒水" }
        ];

        // 状态变量
        let currentCategory = "all";
        let searchText = "";

        // DOM 元素
        const productGrid = document.getElementById('productGrid');
        const categoryList = document.getElementById('categoryList');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.querySelector('.sidebar-overlay');

        // 2. 初始化渲染
        function init() {
            parseFileName();
            renderCategories();
            renderProducts();
        }

        // 3. 渲染分类列表
        function renderCategories() {
            categoryList.innerHTML = categories.map(cat => `
                <li class="category-item ${cat.id === currentCategory ? 'active' : ''}" 
                    onclick="selectCategory('${cat.id}')">
                    ${cat.name}
                </li>
            `).join('');
        }

        // 4. 渲染商品列表 (核心逻辑)
        function renderProducts() {
            // 过滤逻辑
            const filteredData = products.filter(item => {
                // 分类匹配
                const isCategoryMatch = currentCategory === "all" || item.category === currentCategory;
                // 搜索词匹配
                const isSearchMatch = item.name.toLowerCase().includes(searchText.toLowerCase());
                return isCategoryMatch && isSearchMatch;
            });

            // 生成HTML
            if (filteredData.length === 0) {
                productGrid.innerHTML = '<div class="no-results">没有找到相关商品</div>';
            } else {
                productGrid.innerHTML = filteredData.map(item => `
                    <div class="product-card">
                        <div class="product-img">
                            <img src="${item.image}" alt="${item.name}" onerror="this.src='image/placeholder.jpg'">
                        </div>
                        <div class="product-info">
                            <div class="product-title">${item.name}</div>
                            <div class="product-price">¥${item.price}</div>
                        </div>
                    </div>
                `).join('');
            }
        }

        // 5. 事件处理：选择分类
        function selectCategory(catId) {
            currentCategory = catId;
            renderCategories(); // 更新高亮
            renderProducts();   // 更新商品
            toggleSidebar();    // 选完自动关闭侧边栏
        }

        // 6. 事件处理：搜索
        function handleSearch() {
            const input = document.getElementById('searchInput');
            searchText = input.value.trim();
            renderProducts();
        }

        // 7. 交互：切换侧边栏
        function toggleSidebar() {
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        // 辅助：生成随机浅色背景，让占位图好看点
        function getRandomColor() {
            const colors = ['#e3f2fd', '#f3e5f5', '#e8f5e9', '#fff3e0', '#fbe9e7', '#f5f5f5'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // 启动
        init();

    </script>
</body>

</html>